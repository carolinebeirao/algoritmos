<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1</title>
</head>

<body>
    <img src="https://i.blogs.es/b3a499/il_fullxfull.446392432_hc3v/1366_2000.jpg" width="220px" alt="">
    <h1>Gestoque! Guarde bem o que está contigo!</h1>
    Nome do produto :
    <input id="nome">
    <br><br>
    Unidade :
    <input id="unid" placeholder="'unidades', 'quilos', 'litros'">
    <br><br>
    Quantidade em estoque :
    <input id="qtd_estoque" type="number">
    <br><br>
    Valor da compra por Unidade :
    <input id="compra_unid" type="number">
    <br><br>
    Valor da venda por Unidade :
    <input id="venda_unid" type="number">
    <br><br>
    <button onclick="bt_analisar()">Analisar estoque</button>
    <br><br>
    <img id="img_calc" src="" alt="" width="200px">
    <div id="div_msg" >
        
    </div>

    <div id="barra" style=" display: inline; margin: 0%; width: 100%;" >
    
    </div>
    <b>Composição do preço</b>
    <br>
    <br>
    <br>
    <br>
    
</body>

</html>
<script>
    function bt_analisar() {
        var estoqueTotal = qtd_estoque.value;
        var nameMedida = unid.value;
        var nameProduto = nome.value;
        var totalVenda = (Number(venda_unid.value) * Number(estoqueTotal));
        var lucroUnidade= (Number(venda_unid.value) - Number(compra_unid.value));
        var valorCompra = compra_unid.value;
        var valorVenda = venda_unid.value;
        var lucroPorcent = ([(Number(valorVenda) / Number(valorCompra)) - 1 ] * 100);
        var barraTotal =  (Number(valorCompra) + Number(lucroUnidade));
        var barraGreen = ([(barraTotal / valorCompra) - 1] *100);
        var barraRed = (barraTotal - lucroUnidade);
        div_msg.innerHTML = `Você possui um total de ${estoqueTotal} ${nameMedida} de ${nameProduto} em estoque.
        <br>
        Você tem um total de R$ ${totalVenda} em estoque de ${nameProduto}.
        <br>
        Vai lucrar R$ ${lucroUnidade} em cada ${nameProduto} vendido.
        <br><br>
        Como comprou cada unidade 
        por <b style="color:red;">${valorCompra}</b> e vai vender por <b style="color:green;">${valorVenda}</b>, sua margem de lucro será de <b style="color:orange;">${lucroPorcent}%</b>.
        <br><br>`;
        barra.innerHTML = `<div style=" background-color: red; width: ${barraRed}%; float:left; "> R$${valorCompra}  </div>
        <div style=" background-color: green; width: ${barraGreen}; "> R$${lucroUnidade} </div>`;
        img_calc.src = "https://cdn.dicionariopopular.com/imagens/nazareconfusamatematica.gif";
    }
</script>

